<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: Arial, sans-serif; background:#f4f6f9; margin:0; }
    .section { display: none; }
    .notif-popup { display: none; position: absolute; top:50px; right:20px; width:300px; background:#fff; border-radius:10px; box-shadow:0 4px 12px rgba(0,0,0,0.15); overflow:hidden; z-index:1000;}
    .notif-item { padding:10px; border-bottom:1px solid #eee; }
    .notif-item:last-child { border-bottom:none; }
    .notif-title { font-weight:bold; margin-bottom:4px; }
    .notif-time { font-size:12px; color:#777; }
    .notif-badge { position:absolute; top:-5px; right:-5px; background:red; color:white; border-radius:50%; font-size:12px; padding:2px 5px; }
  </style>
</head>
<body>

  <!-- Navbar -->
  <div class="bg-green-600 text-white p-4 flex justify-between items-center relative">
    <div class="text-xl font-bold">Admin Dashboard</div>
    <div class="relative cursor-pointer" id="notifBell">
      ðŸ””
      <span class="notif-badge" id="notifBadge">3</span>
    </div>
  </div>

  <!-- Notification Popup -->
  <div class="notif-popup" id="notifPopup">
    <div class="bg-green-600 text-white text-center font-bold p-2" id="notifHeader">Notifications</div>
    <div id="notifList"></div>
  </div>

  <!-- Tabs -->
  <div class="flex gap-4 justify-center mt-4">
    <button class="tab-btn bg-blue-600 text-white px-4 py-2 rounded-lg" onclick="showSection('profile')">Profile</button>
    <button class="tab-btn bg-gray-200 px-4 py-2 rounded-lg" onclick="showSection('admins')">Admins</button>
    <button class="tab-btn bg-gray-200 px-4 py-2 rounded-lg" onclick="showSection('security')">Security</button>
    <button class="tab-btn bg-gray-200 px-4 py-2 rounded-lg" onclick="showSection('users')">Users</button>
    <button class="tab-btn bg-gray-200 px-4 py-2 rounded-lg" onclick="showSection('reports')">Reports</button>
  </div>

  <div class="max-w-6xl mx-auto mt-6 p-4 bg-white rounded-xl shadow-xl">

    <!-- Admin Profile -->
    <div id="profile" class="section">
      <h3 class="text-xl font-semibold mb-4">Admin Profile</h3>
      <div class="space-y-3">
        <input type="file" class="border p-2 w-full rounded" placeholder="Change profile photo">
        <input type="text" class="border p-2 w-full rounded" placeholder="Name">
        <input type="email" class="border p-2 w-full rounded" placeholder="Email">
        <input type="text" class="border p-2 w-full rounded" placeholder="Phone">
        <button class="bg-blue-600 text-white px-4 py-2 rounded-lg">Save Profile</button>
      </div>
    </div>

    <!-- Manage Admins -->
    <div id="admins" class="section">
      <h3 class="text-xl font-semibold mb-4">Manage Admins</h3>
      <input type="email" placeholder="New admin email" class="border p-2 w-full rounded mb-2">
      <button class="bg-green-600 text-white px-4 py-2 rounded-lg mb-4">Add Admin</button>
      <ul class="space-y-2">
        <li class="flex justify-between bg-gray-100 p-2 rounded">
          admin1@example.com <button class="text-red-600">Remove</button>
        </li>
        <li class="flex justify-between bg-gray-100 p-2 rounded">
          admin2@example.com <button class="text-red-600">Remove</button>
        </li>
      </ul>
    </div>

    <!-- Security -->
    <div id="security" class="section">
      <h3 class="text-xl font-semibold mb-4">Security & 2FA</h3>
      <button class="bg-blue-600 text-white px-4 py-2 rounded-lg mb-2">Enable 2FA</button>
      <input type="password" placeholder="New Password" class="border p-2 w-full rounded mb-2">
      <button class="bg-blue-600 text-white px-4 py-2 rounded-lg">Update Password</button>
    </div>

    <!-- User Management -->
    <div id="users" class="section">
      <h3 class="text-xl font-semibold mb-4">User Management</h3>
      <input type="text" placeholder="Search users" class="border p-2 w-full rounded mb-3">
      <table class="w-full border">
        <thead class="bg-gray-200">
          <tr>
            <th class="p-2 border">User</th>
            <th class="p-2 border">Status</th>
            <th class="p-2 border">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="border p-2">user1@example.com</td>
            <td class="border p-2 text-green-600">Active</td>
            <td class="border p-2 space-x-2">
              <button class="text-yellow-600">Warn</button>
              <button class="text-red-600">Ban</button>
              <button class="text-blue-600">Reset</button>
            </td>
          </tr>
          <tr>
            <td class="border p-2">user2@example.com</td>
            <td class="border p-2 text-red-600">Suspended</td>
            <td class="border p-2 space-x-2">
              <button class="text-green-600">Unban</button>
              <button class="text-blue-600">Reset</button>
            </td>
          </tr>
        </tbody>
      </table>
      <h4 class="font-medium mt-4 mb-1">User Activity Logs</h4>
      <ul class="bg-gray-100 p-3 rounded space-y-1 text-sm text-gray-700">
        <li>user1 reported a pothole (2 mins ago)</li>
        <li>user2 rated a report (10 mins ago)</li>
      </ul>
    </div>

    <!-- Reports Management -->
    <div id="reports" class="section">
      <h3 class="text-xl font-semibold mb-4">Reports Management</h3>
      <table class="w-full border">
        <thead class="bg-gray-200">
          <tr>
            <th class="p-2 border">Report</th>
            <th class="p-2 border">User</th>
            <th class="p-2 border">Status</th>
            <th class="p-2 border">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="border p-2">Pothole on 5th Street</td>
            <td class="border p-2">user1@example.com</td>
            <td class="border p-2 text-yellow-600">Pending</td>
            <td class="border p-2">
              <button class="bg-green-600 text-white px-2 py-1 rounded">Mark Solved</button>
            </td>
          </tr>
          <tr>
            <td class="border p-2">Garbage overflow in park</td>
            <td class="border p-2">user2@example.com</td>
            <td class="border p-2 text-green-600">Solved</td>
            <td class="border p-2">
              <button class="bg-gray-400 text-white px-2 py-1 rounded">Solved</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>

  <script>
    // Tab navigation
    function showSection(sectionId){
      document.querySelectorAll('.section').forEach(s => s.style.display='none');
      document.getElementById(sectionId).style.display='block';
      document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('bg-blue-600','text-white'));
      event.target.classList.add('bg-blue-600','text-white');
    }

    // Show Profile tab by default
    showSection('profile');

    // Notification bell
    const notifBell = document.getElementById('notifBell');
    const notifPopup = document.getElementById('notifPopup');
    const notifList = document.getElementById('notifList');
    const notifBadge = document.getElementById('notifBadge');

    const adminNotifications = [
      { title: "New report submitted in Sector 5", time:"5 min ago"},
      { title: "User xyz suspected of spam", time:"10 min ago"}
    ];

    notifBell.onclick = () => {
      notifPopup.style.display = notifPopup.style.display==='block'?'none':'block';
      showNotifications(adminNotifications);
    }

    function showNotifications(list){
      notifList.innerHTML='';
      list.forEach(n=>{
        const div=document.createElement('div');
        div.className='notif-item';
        div.innerHTML=`<div class="notif-title">${n.title}</div><div class="notif-time">${n.time}</div>`;
        notifList.appendChild(div);
      });
      notifBadge.textContent=list.length;
    }

    // Close popup when clicking outside
    window.onclick=(e)=>{
      if(!notifBell.contains(e.target) && !notifPopup.contains(e.target)){
        notifPopup.style.display='none';
      }
    }
  </script>

</body>
</html>
